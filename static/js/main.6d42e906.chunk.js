(this.webpackJsonpxmeme=this.webpackJsonpxmeme||[]).push([[0],{154:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),r=n(16),c=n.n(r),o=(n(95),n(96),n(47)),i=n(48),l=n(51),d=n(50),h=n(90),m=n(155),u=n(156),j=n(157),b=n(158),p=n(159),O=n(160),x=n(161),f=n(162),g=n(163),v=n(3),M=function(e){var t=Object(a.useState)(!1),n=Object(h.a)(t,2),s=n[0],r=n[1];return Object(v.jsxs)("div",{children:[Object(v.jsx)(m.a,{color:"dark",dark:!0,expand:"md",children:Object(v.jsxs)("div",{className:"container",children:[Object(v.jsx)(u.a,{className:"mr-auto",href:"/",children:Object(v.jsx)("img",{src:"https://previews.123rf.com/images/saiful007/saiful0071708/saiful007170800072/83305369-letter-x-logo-slice-logo-design-concept-template.jpg",alt:"logo",height:"30",width:"41"})}),Object(v.jsx)(j.a,{onClick:function(){return r(!s)}}),Object(v.jsxs)(b.a,{isOpen:s,navbar:!0,children:[Object(v.jsx)(p.a,{className:"mr-auto",navbar:!0,children:Object(v.jsx)(O.a,{children:Object(v.jsx)(x.a,{href:"/home",children:"Home"})})}),Object(v.jsx)(f.a,{children:"Welcome"})]})]})}),Object(v.jsx)(g.a,{className:"bg-secondary",children:Object(v.jsx)("div",{className:"container",children:Object(v.jsx)("div",{className:"row row-header",children:Object(v.jsxs)("div",{className:"col-12 col-sm-6",children:[Object(v.jsx)("h1",{children:"XMeme"}),Object(v.jsx)("p",{children:"Create Your Own Meme Today !"})]})})})})]})},y=n(49),w=n(19),C=n(168),N=n(169),E=n(170),S=n(171),k=n(172),L=n(173),F=n(164),T=n(165),D=n(166),I=n(167),Y=n(176),J=n(174),P=n(175),_=n(20),H=n(36),A=n.n(H),B=function(e){return function(t){return t&&t.length>=e}},G=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={name:"",caption:"",url:"",isModalOpen:!1,id:""},a.handleInputChange=a.handleInputChange.bind(Object(w.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(w.a)(a)),a.showMeme=a.showMeme.bind(Object(w.a)(a)),a.toggleModal=a.toggleModal.bind(Object(w.a)(a)),a.handleEdit=a.handleEdit.bind(Object(w.a)(a)),a.handleDelete=a.handleDelete.bind(Object(w.a)(a)),a}return Object(i.a)(n,[{key:"toggleModal",value:function(){this.setState({name:"",caption:"",url:"",isModalOpen:!this.state.isModalOpen})}},{key:"showMeme",value:function(){var e=this,t=this.props.memes.map((function(t){return Object(v.jsx)("div",{className:"col-12 col-md-4 col-sm-6 mt-3",children:Object(v.jsxs)(F.a,{children:[Object(v.jsxs)(T.a,{children:[Object(v.jsx)(D.a,{tag:"h5",children:t.name}),Object(v.jsx)(I.a,{tag:"h6",className:"mb-1 text-muted",children:t.caption})]}),Object(v.jsx)("img",{width:"100%",src:t.url,alt:"Card image cap"}),Object(v.jsxs)(T.a,{children:[Object(v.jsx)(C.a,{color:"primary",onClick:function(){e.setState({id:t._id,name:t.name,caption:t.caption,url:t.url,isModalOpen:!e.state.isModalOpen})},children:"Edit"}),Object(v.jsx)(C.a,{color:"danger",className:"ml-3",onClick:function(){e.handleDelete(t._id)},children:"Delete"})]})]})},t._id)}));return Object(v.jsx)("div",{className:"row row-content overflow-auto",style:{maxHeight:"200px",width:"100%"},children:t})}},{key:"handleDelete",value:function(e){this.props.deleteMemes(e)}},{key:"handleInputChange",value:function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,a=t.name;this.setState(Object(y.a)({},a,n))}},{key:"handleSubmit",value:function(e){console.log("Current State is: "+JSON.stringify(this.state)),alert("Current State is: "+JSON.stringify(this.state)),this.props.postMemes(this.state.name,this.state.caption,this.state.url),e.preventDefault()}},{key:"handleEdit",value:function(e){console.log(e),console.log(this.state.id),this.props.updateMemes(this.state.id,e.name,e.caption,e.url),this.toggleModal()}},{key:"render",value:function(){var e=this;return Object(v.jsxs)(s.a.Fragment,{children:[Object(v.jsxs)("div",{className:"container",id:"corners",children:[Object(v.jsxs)("div",{className:"row row-content",children:[Object(v.jsx)("div",{className:"col-12",children:Object(v.jsx)("h1",{children:"Meme Stream"})}),Object(v.jsx)("div",{className:"col-12 col-md-9",children:Object(v.jsxs)(N.a,{onSubmit:this.handleSubmit,children:[Object(v.jsxs)(E.a,{row:!0,children:[Object(v.jsx)(S.a,{htmlFor:"name",md:2,children:"Meme Owner"}),Object(v.jsx)(k.a,{md:10,children:Object(v.jsx)(L.a,{type:"text",id:"name",name:"name",placeholder:"Enter Your Full Name",value:this.state.name,onChange:this.handleInputChange})})]}),Object(v.jsxs)(E.a,{row:!0,children:[Object(v.jsx)(S.a,{htmlFor:"caption",md:2,children:"Caption"}),Object(v.jsx)(k.a,{md:10,children:Object(v.jsx)(L.a,{type:"text",id:"caption",name:"caption",placeholder:"Be Creative With The Caption",value:this.state.caption,onChange:this.handleInputChange})})]}),Object(v.jsxs)(E.a,{row:!0,children:[Object(v.jsx)(S.a,{htmlFor:"url",md:2,children:"Meme URL"}),Object(v.jsx)(k.a,{md:10,children:Object(v.jsx)(L.a,{type:"url",id:"url",name:"url",placeholder:"Enter URL of Your Meme Here",value:this.state.url,onChange:this.handleInputChange})})]}),Object(v.jsx)(E.a,{row:!0,children:Object(v.jsx)(k.a,{md:{size:10,offset:2},children:Object(v.jsx)(C.a,{type:"submit",color:"primary",children:"Submit"})})})]})})]}),Object(v.jsx)(this.showMeme,{})]}),Object(v.jsxs)(Y.a,{isOpen:this.state.isModalOpen,toggle:this.toggleModal,children:[Object(v.jsx)(J.a,{toggle:this.toggleModal,children:"Edit"}),Object(v.jsx)(P.a,{children:Object(v.jsxs)(_.LocalForm,{onSubmit:function(t){return e.handleEdit(t)},children:[Object(v.jsx)(A.a,{className:"form-group",children:Object(v.jsxs)(k.a,{children:[Object(v.jsx)(S.a,{htmlFor:"name",children:"Your Name"}),Object(v.jsx)(_.Control.text,{className:"form-control",id:"name",name:"name",model:".name",placeholder:"Your Name",defaultValue:this.state.name,disabled:!0,validators:{minLength:B(3)}}),Object(v.jsx)(_.Errors,{className:"text-danger",show:"touched",model:".name",messages:{minLength:"Must be Greater than 3 Characters"}})]})}),Object(v.jsx)(A.a,{className:"form-group",children:Object(v.jsxs)(k.a,{children:[Object(v.jsx)(S.a,{htmlFor:"caption",children:"Caption"}),Object(v.jsx)(_.Control.text,{className:"form-control",id:"caption",name:"caption",model:".caption",placeholder:"Caption",defaultValue:this.state.caption,validators:{minLength:B(3)}}),Object(v.jsx)(_.Errors,{className:"text-danger",show:"touched",model:".caption",messages:{minLength:"Must be Greater than 3 Characters"}})]})}),Object(v.jsx)(A.a,{className:"form-group",children:Object(v.jsxs)(k.a,{children:[Object(v.jsx)(S.a,{htmlFor:"url",children:"Link"}),Object(v.jsx)(_.Control.text,{className:"form-control",id:"url",name:"url",model:".url",placeholder:"Link",defaultValue:this.state.url,validators:{minLength:B(9)}}),Object(v.jsx)(_.Errors,{className:"text-danger",show:"touched",model:".url",messages:{minLength:"Must be Greater than 9 Characters"}})]})}),Object(v.jsx)(A.a,{className:"form-group",children:Object(v.jsx)(k.a,{children:Object(v.jsx)(C.a,{type:"submit",color:"primary",children:"Submit"})})})]})})]})]})}}]),n}(a.Component),R=n(9),V="MEMES_FAILED",U="ADD_MEMES",W="http://localhost:8081/meme/",z=function(e){return{type:V,payload:e}},X=function(e){return{type:U,payload:e}},q=n(17),K=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){return Object(o.a)(this,n),t.call(this,e)}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchMemes()}},{key:"render",value:function(){var e=this;return Object(v.jsxs)("div",{children:[Object(v.jsx)(M,{}),Object(v.jsxs)(R.d,{children:[Object(v.jsx)(R.b,{path:"/",component:function(){return Object(v.jsx)(G,{errMess:e.props.memes.errMess,memes:e.props.memes.memes,deleteMemes:e.props.deleteMemes,postMemes:e.props.postMemes,fetchMemes:e.props.fetchMemes,updateMemes:e.props.updateMemes})}}),Object(v.jsx)(R.a,{to:"/"})]})]})}}]),n}(a.Component),Q=Object(R.g)(Object(q.connect)((function(e){return{memes:e.memes}}),(function(e){return{postMemes:function(t,n,a){return e(function(e,t,n){return function(a){var s={name:e,caption:t,url:n};fetch(W,{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json"},credentials:"same-origin"}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t})).then((function(e){return e.json()})).then((function(e){return a(X(e))})).catch((function(e){console.log("post comments",e.message),alert("Your meme could not be posted\nError: "+e.message)}))}}(t,n,a))},fetchMemes:function(){return e((function(e){return fetch("http://localhost:8081/memes").then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t})).then((function(e){return e.json()})).then((function(t){e(X(t))})).catch((function(t){return e(z(t.message))}))}))},updateMemes:function(t,n,a,s){return e(function(e,t,n,a){return function(s){var r={name:t,caption:n,url:a};fetch(W+e,{method:"PATCH",body:JSON.stringify(r),headers:{"Content-Type":"application/json"},credentials:"same-origin"}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t})).then((function(e){return e.json()})).then((function(e){return s(X(e))})).catch((function(e){console.log("post comments",e.message),alert("Your meme could not be updated\nError: "+e.message)}))}}(t,n,a,s))},deleteMemes:function(t){return e(function(e){return function(t){fetch(W+e,{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"same-origin"}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t})).then((function(e){return e.json()})).then((function(e){return t(X(e))})).catch((function(e){console.log("post comments",e.message),alert("Your meme could not be deleted\nError: "+e.message)}))}}(t))}}}))(K)),Z=n(64),$=n(37),ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{errMess:null,memes:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return Object($.a)(Object($.a)({},e),{},{errMess:null,memes:t.payload});case V:return Object($.a)(Object($.a)({},e),{},{errMess:t.payload});default:return e}},te=n(18),ne=n(88),ae=n(89),se=n.n(ae),re=Object(te.createStore)(Object(te.combineReducers)({memes:ee}),Object(te.applyMiddleware)(ne.a,se.a));var ce=function(){return Object(v.jsx)(q.Provider,{store:re,children:Object(v.jsx)(Z.a,{children:Object(v.jsx)("div",{children:Object(v.jsx)(Q,{})})})})},oe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,177)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),s(e),r(e),c(e)}))};n(151),n(152),n(153);c.a.render(Object(v.jsx)(s.a.StrictMode,{children:Object(v.jsx)(ce,{})}),document.getElementById("root")),oe()},95:function(e,t,n){},96:function(e,t,n){}},[[154,1,2]]]);
//# sourceMappingURL=main.6d42e906.chunk.js.map